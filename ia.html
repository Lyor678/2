<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>FlixAI — Explorez les IA du futur</title>
<style>
:root{
  --bg1:#060618; --bg2:#0a0a2a; --accent:#7f5af0; --accent2:#2cb67d;
  --card-accent:rgba(127,90,240,0.12); --text:#e8e8f8; --glass:rgba(255,255,255,0.04);
  --radius:12px; --fast:180ms; font-family:"Inter","Poppins",system-ui,-apple-system,Segoe UI,Roboto,Arial;
}
*{box-sizing:border-box}
body{
  margin:0; min-height:100vh; color:var(--text);
  background:
    radial-gradient(circle at 10% 10%, rgba(127,90,240,0.06), transparent 10%),
    radial-gradient(circle at 90% 90%, rgba(44,182,125,0.05), transparent 10%),
    linear-gradient(180deg,var(--bg1) 0%,var(--bg2) 100%);
  transition: background .45s ease, color .35s ease; -webkit-font-smoothing:antialiased;
  overflow-x:hidden;
}

/* Header */
header{
  position:fixed; top:0; left:0; right:0; height:64px; display:flex; align-items:center; justify-content:center;
  padding:0 20px; z-index:140; gap:12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  backdrop-filter: blur(8px); box-shadow:0 6px 20px rgba(0,0,0,0.45);
}
.menu-btn{ position:absolute; left:18px; width:36px; height:28px; background:transparent; border:0; cursor:pointer;
  display:flex; flex-direction:column; justify-content:space-between; z-index:150; padding:0; }
.menu-btn span{ display:block; height:3px; width:100%; border-radius:3px; background:var(--accent); transition: transform var(--fast) ease, opacity var(--fast) ease; }
.menu-btn.active span:nth-child(1){ transform:rotate(45deg) translateY(9px); }
.menu-btn.active span:nth-child(2){ opacity:0; }
.menu-btn.active span:nth-child(3){ transform:rotate(-45deg) translateY(-9px); }
header h1{ margin:0; font-size:20px; color:var(--accent); letter-spacing:.6px; text-shadow:0 6px 26px rgba(127,90,240,0.12); }

/* overlay and sidebar */
.overlay{ position:fixed; inset:0; background:rgba(0,0,0,0.35); opacity:0; visibility:hidden; transition:opacity .28s ease; z-index:130; backdrop-filter: blur(2px);}
.overlay.active{ opacity:1; visibility:visible;}
.sidebar{ position:fixed; top:0; left:-320px; width:300px; height:100vh; padding:78px 16px 24px; z-index:160;
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
  box-shadow:6px 0 30px rgba(0,0,0,0.5); backdrop-filter: blur(18px) saturate(120%);
  border-right:1px solid rgba(255,255,255,0.03); transition:left .32s cubic-bezier(.2,.9,.2,1); overflow:auto;}
.sidebar.open{ left:0;}
.sidebar h2{ color:var(--accent); margin:6px 6px 12px; font-size:14px; letter-spacing:.6px; border-bottom:1px dashed rgba(255,255,255,0.03); padding-bottom:8px;}
.sidebar ul{ list-style:none; margin:0; padding:0 6px 14px 6px; }
.sidebar li{ padding:9px 12px; margin:6px 0; border-radius:8px; color:var(--text); font-size:13px; cursor:pointer; transition: background .16s ease, transform .16s ease;}
.sidebar li:hover{ background: linear-gradient(90deg, rgba(127,90,240,0.06), rgba(44,182,125,0.03)); transform: translateX(6px); }

/* themes */
.theme-grid{ display:grid; grid-template-columns: repeat(2,1fr); gap:10px; padding:6px; margin-top:8px; margin-bottom:18px; }
.theme-card{ display:flex; gap:8px; align-items:center; padding:8px; border-radius:8px; background: rgba(255,255,255,0.015); border:1px solid rgba(255,255,255,0.02); cursor:pointer; transition: transform .16s ease, box-shadow .16s ease;}
.theme-card:hover{ transform: translateY(-4px); box-shadow: 0 8px 26px rgba(0,0,0,0.35); }
.swatches{ display:flex; gap:6px; align-items:center; }
.sw{ width:28px; height:28px; border-radius:6px; box-shadow: inset 0 -2px 6px rgba(0,0,0,0.18); border:1px solid rgba(255,255,255,0.02); }
.theme-label{ font-size:12px; color:var(--text); margin-left:auto; opacity:.95; }

/* hero banner under title */
.hero{ position:relative; height:360px; margin-top:64px; display:flex; align-items:center; justify-content:center; text-align:center; color:#fff; background-size:cover; background-position:center; background-repeat:no-repeat; transition: background .45s ease, filter .35s ease;}
.hero::after{ content:""; position:absolute; inset:0; background: linear-gradient(180deg, rgba(0,0,0,0.22), rgba(0,0,0,0.38)); backdrop-filter: blur(3px); }
.hero-content{ position:relative; z-index:10; padding:8px 14px; max-width:920px; }
.hero h2{ font-size:34px; margin:0 0 8px; }
.hero p{ margin:0; color:rgba(255,255,255,0.92); font-size:15px; }

/* main grid & cards */
main{ padding:28px 20px 80px; max-width:1320px; margin:0 auto; }
.grid{ display:grid; grid-template-columns: repeat(auto-fill,minmax(260px,1fr)); gap:22px; margin-top:26px; }

.card{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:12px; overflow:hidden; box-shadow:0 10px 30px rgba(2,6,23,0.6);
  border:1px solid rgba(255,255,255,0.03); transition: transform .22s cubic-bezier(.2,.9,.2,1), box-shadow .22s ease, border-color .22s ease; display:flex; flex-direction:column;
}
.card:hover{ transform: translateY(-10px); box-shadow: 0 18px 40px rgba(2,6,23,0.72); }
.imgwrap{ position:relative; height:150px; overflow:hidden; }
.imgwrap img{ width:100%; height:100%; object-fit:cover; display:block; transform: scale(1.02); transition: transform .42s ease, filter .32s ease; }
.card:hover .imgwrap img{ transform: scale(1.06); }

/* tint overlay applied to images to match theme */
.img-tint{ position:absolute; inset:0; pointer-events:none; mix-blend-mode: color; transition: background .32s ease, opacity .22s ease; opacity:.88; }

.card-header{ padding:12px 14px; display:flex; flex-direction:column; gap:6px; }
.title{ font-size:15px; font-weight:600; color:var(--text); margin:0; }
.meta{ font-size:12px; color: rgba(255,255,255,0.75); }

.card-body{ padding:10px 14px; font-size:13px; color: rgba(255,255,255,0.9); flex:1; }
.card-footer{ padding:10px 14px; text-align:center; font-weight:700; cursor:pointer; text-decoration:none; background:var(--card-accent); color:var(--bg2); border-top:1px solid rgba(255,255,255,0.02); transition: transform .16s ease, box-shadow .16s ease; }
.card-footer:hover{ transform: translateY(-2px); box-shadow: 0 8px 18px rgba(0,0,0,0.45); }

footer{ text-align:center; padding:38px 10px; color:rgba(255,255,255,0.6); font-size:13px; }

@media (max-width:720px){
  .sidebar{ width:86vw; left:-86vw; } .sidebar.open{ left:0; }
  .hero{ height:260px; }
}
</style>
</head>
<body>

<div class="overlay" id="overlay"></div>

<header>
  <button class="menu-btn" id="menuBtn" aria-label="Menu">
    <span></span><span></span><span></span>
  </button>
  <h1>FlixAI</h1>
</header>

<nav class="sidebar" id="sidebar" aria-hidden="true">
  <h2>Catégories</h2>
  <ul id="categoryList" aria-label="Liste des catégories"></ul>

  <h2>Thèmes</h2>
  <div class="theme-grid" id="themeGrid" aria-label="Choix des thèmes"></div>
</nav>

<section class="hero" id="hero" role="region" aria-label="Bannière">
  <div class="hero-content">
    <h2>Découvrez les IA du futur</h2>
    <p>Plateforme minimaliste et professionnelle — choisis un thème pour harmoniser le site et les cartes.</p>
  </div>
</section>

<main>
  <div id="grid" class="grid" aria-live="polite"></div>
</main>

<footer>FlixAI — © 2025</footer>

<script>
/* ---------------------------
   Données en dur (ALL_DATA)
   Chaque item: {id, handle, description, website, categories[], image?}
   (tu peux modifier / ajouter directement ici)
   ---------------------------*/
const ALL_DATA = [
  { id: "ai-001", handle: "BizBrain", description: "Business intelligence et analyse des ventes", website:"#", categories:["Business","Sales Forecasting","Market Analysis"], image:"https://source.unsplash.com/800x600/?business,analytics" },
  { id: "ai-002", handle: "ProdBoost", description: "Outil de Productivité et gestion des tâches", website:"#", categories:["Productivity","Task Automation","Project Management"], image:"https://source.unsplash.com/800x600/?productivity,office" },
  { id: "ai-003", handle: "PitchMate", description: "Générateur de Business Plan et pitch deck", website:"#", categories:["Business Plan","Startup Idea","Copywriting"], image:"https://source.unsplash.com/800x600/?startup,business" },
  { id: "ai-004", handle: "MailCraft", description: "Rédaction d'emails pro et réponses automatiques", website:"#", categories:["Email Writing","Customer Support","Copywriting"], image:"https://source.unsplash.com/800x600/?email,office" },
  { id: "ai-005", handle: "AdGenius", description: "Création de campagnes publicitaires et analysis", website:"#", categories:["Ad Campaign","Market Analysis","SEO"], image:"https://source.unsplash.com/800x600/?advertising,marketing" },
  { id: "ai-006", handle: "ImageForge", description: "Image Generation & Logo Design", website:"#", categories:["Image Generation","Logo Design","Art Concept"], image:"https://source.unsplash.com/800x600/?design,logo" },
  { id: "ai-007", handle: "PhotoPolish", description: "Photo Editing et retouche avancée", website:"#", categories:["Photo Editing","Art Concept","Image Generation"], image:"https://source.unsplash.com/800x600/?photo,editing" },
  { id: "ai-008", handle: "MockUpLab", description: "Web Mockup et prototypes rapides", website:"#", categories:["Web Mockup","Website Creation","Design"], image:"https://source.unsplash.com/800x600/?web,design" },
  { id: "ai-009", handle: "ClipMaster", description: "Video Editing & Text-to-Video pour contenus", website:"#", categories:["Video Editing","Text-to-Video","Video Upscale"], image:"https://source.unsplash.com/800x600/?video,editing" },
  { id: "ai-010", handle: "VoxForge", description: "Voice Generation et clonage vocal", website:"#", categories:["Voice Generation","Voice Cloning","Dubbing"], image:"https://source.unsplash.com/800x600/?microphone,voice" },
  { id: "ai-011", handle: "AudioStudio", description: "Audio Mixing et Podcast Creation", website:"#", categories:["Audio Mixing","Podcast Creation","Audio Transcription"], image:"https://source.unsplash.com/800x600/?podcast,studio" },
  { id: "ai-012", handle: "ScriptLab", description: "Scriptwriting et scénarisation pour vidéos", website:"#", categories:["Scriptwriting","Creative Writing","Article Writing"], image:"https://source.unsplash.com/800x600/?script,writing" },
  { id: "ai-013", handle: "Summarize", description: "Text Summarization & correction rapide", website:"#", categories:["Text Summarization","Text Correction","Documentation"], image:"https://source.unsplash.com/800x600/?text,summary" },
  { id: "ai-014", handle: "TutorPro", description: "Personal Tutor et Quiz & Test automatiques", website:"#", categories:["Personal Tutor","Quiz & Test","Student Performance"], image:"https://source.unsplash.com/800x600/?education,tutor" },
  { id: "ai-015", handle: "CodeBuddy", description: "Code Assistance & Automated Testing", website:"#", categories:["Code Assistance","Automated Testing","Website Creation"], image:"https://source.unsplash.com/800x600/?code,programming" },
  { id: "ai-016", handle: "SecureNet", description: "Cybersécurité et détection de vulnérabilités", website:"#", categories:["Cybersecurity","Fraud Detection","Documentation"], image:"https://source.unsplash.com/800x600/?cybersecurity,network" },
  { id: "ai-017", handle: "PricePilot", description: "Dynamic Pricing et Inventory Management", website:"#", categories:["Dynamic Pricing","Inventory Management","Sales Forecasting"], image:"https://source.unsplash.com/800x600/?pricing,commerce" },
  { id: "ai-018", handle: "RecoX", description: "Product Recommendation et personnalisation", website:"#", categories:["Product Recommendation","Customer Support","Marketing"], image:"https://source.unsplash.com/800x600/?recommendation,personalization" },
  { id: "ai-019", handle: "AccountingAI", description: "Accounting et Financial Forecasting", website:"#", categories:["Accounting","Financial Forecasting","Investment Management"], image:"https://source.unsplash.com/800x600/?accounting,finance" },
  { id: "ai-020", handle: "TraderBot", description: "Automated Trading et Investment Management", website:"#", categories:["Automated Trading","Investment Management","Fraud Detection"], image:"https://source.unsplash.com/800x600/?trading,finance" },
  // tu peux ajouter d'autres items ici...
];

/* 50 categories - identiques à la première version */
const CATEGORIES = [
  "Toutes",
  "Business","Productivity","Project Management","Task Automation","Business Plan","Startup Idea",
  "Email Writing","Copywriting","Social Media","Market Analysis","Ad Campaign","SEO","Image Generation",
  "Logo Design","Web Mockup","Photo Editing","Art Concept","Video Editing","Talking Avatar","Dubbing",
  "Text-to-Video","Video Upscale","Voice Generation","Voice Cloning","Audio Mixing","Audio Transcription",
  "Podcast Creation","Article Writing","Scriptwriting","Text Summarization","Text Correction","Creative Writing",
  "Code Assistance","Automated Testing","Website Creation","Documentation","Cybersecurity","Dynamic Pricing",
  "Sales Forecasting","Inventory Management","Customer Support","Product Recommendation","Course Creation",
  "Personal Tutor","Quiz & Test","Student Performance","Accounting","Financial Forecasting","Fraud Detection",
  "Automated Trading","Investment Management"
];

/* 14 palettes minimalistes & pro (bgDark, bgLight, accent) */
const PALETTES = [
  ["#050519","#0f1724","#7f5af0"],
  ["#0b0f1a","#122131","#38bdf8"],
  ["#0b0b0b","#1a1a1a","#9ca3ff"],
  ["#071018","#102033","#00c2a8"],
  ["#0f0c29","#2b1055","#ff7eb3"],
  ["#08121a","#0f2a3a","#00a7ff"],
  ["#091018","#142033","#8be38b"],
  ["#0f1114","#24292e","#f6c343"],
  ["#0a0810","#1b1024","#ff7a59"],
  ["#08101a","#15324a","#6ee7b7"],
  ["#0b0b12","#2a1f3a","#c084fc"],
  ["#0a0a0a","#1e1e1e","#fef08a"],
  ["#020024","#004e92","#00d4ff"],
  ["#0e1114","#22262b","#ffd166"]
];

/* mapping palette -> hero image keyword (business / innovation style) */
const THEME_KEYWORDS = ["business startup","corporate office","technology industry","office data","innovation technology",
  "business meeting","modern office","business abstract","company office","corporate team","corporate creative","finance business","tech network","business abstract" ];

/* DOM references */
const menuBtn = document.getElementById('menuBtn');
const sidebar = document.getElementById('sidebar');
const overlay = document.getElementById('overlay');
const categoryList = document.getElementById('categoryList');
const themeGrid = document.getElementById('themeGrid');
const grid = document.getElementById('grid');
const hero = document.getElementById('hero');

/* Menu toggle */
menuBtn.addEventListener('click', ()=> {
  const open = sidebar.classList.toggle('open');
  overlay.classList.toggle('active', open);
  menuBtn.classList.toggle('active', open);
  sidebar.setAttribute('aria-hidden', !open);
});
overlay.addEventListener('click', ()=> {
  sidebar.classList.remove('open');
  overlay.classList.remove('active');
  menuBtn.classList.remove('active');
  sidebar.setAttribute('aria-hidden', true);
});

/* Build categories list (works like first code: click -> filter) */
(function buildCategories(){
  categoryList.innerHTML = "";
  CATEGORIES.forEach(cat => {
    const li = document.createElement('li');
    li.textContent = cat;
    li.addEventListener('click', () => {
      filterAndRender(cat);
      // close menu
      sidebar.classList.remove('open');
      overlay.classList.remove('active');
      menuBtn.classList.remove('active');
      sidebar.setAttribute('aria-hidden', true);
    });
    categoryList.appendChild(li);
  });
})();

/* Build theme cards (14) */
(function buildThemes(){
  PALETTES.forEach((pal, idx) => {
    const card = document.createElement('div');
    card.className = 'theme-card';
    const sw = document.createElement('div'); sw.className='swatches';
    pal.forEach(c=>{
      const s = document.createElement('div'); s.className='sw'; s.style.background = c; sw.appendChild(s);
    });
    const label = document.createElement('div'); label.className='theme-label'; label.textContent = `Thème ${idx+1}`;
    card.appendChild(sw); card.appendChild(label);
    card.addEventListener('click', ()=> applyTheme(idx));
    themeGrid.appendChild(card);
  });
})();

/* Render all cards at once (DocumentFragment for performance) */
function renderAll(data){
  grid.innerHTML = "";
  const frag = document.createDocumentFragment();
  data.forEach((item, i) => {
    const card = document.createElement('article');
    card.className = 'card';
    card.dataset.idx = i;

    const imgwrap = document.createElement('div'); imgwrap.className = 'imgwrap';
    const img = document.createElement('img');
    // if item.image provided use it; otherwise a themed/random placeholder will be set by applyTheme later
    img.src = item.image || placeholderFor(i);
    img.alt = item.handle || "IA image";
    img.draggable = false;

    const tint = document.createElement('div'); tint.className = 'img-tint';
    imgwrap.appendChild(img); imgwrap.appendChild(tint);

    const header = document.createElement('div'); header.className = 'card-header';
    header.innerHTML = `<div class="title">${escapeHtml(item.handle || 'Sans nom')}</div>
                        <div class="meta">${escapeHtml(item.id || '')}</div>`;

    const body = document.createElement('div'); body.className='card-body';
    body.textContent = item.description || '(Pas de description)';

    const footer = document.createElement('a'); footer.className = 'card-footer';
    footer.textContent = 'Visiter le site'; footer.href = item.website || '#'; footer.target = '_blank'; footer.rel = 'noopener noreferrer';

    card.appendChild(imgwrap); card.appendChild(header); card.appendChild(body); card.appendChild(footer);
    frag.appendChild(card);
  });
  grid.appendChild(frag);
  // apply initial theme 0
  applyTheme(0);
}

/* Helper: placeholder unsplash per index (will be tinted by theme) */
function placeholderFor(i){
  // basic neutral business images; these will be recolored by tint overlay
  const queries = ['business','office','corporate','meeting','startup','innovation','technology','finance','team','workspace'];
  const q = queries[i % queries.length];
  // use source.unsplash to return an image for that query (no external browsing here; it's runtime)
  return `https://source.unsplash.com/800x600/?${encodeURIComponent(q)}&sig=${i}`;
}

/* Filtering logic: like first file — checks categories array OR description/handle includes text */
function filterAndRender(cat){
  if(cat === "Toutes"){
    renderAll(ALL_DATA);
    return;
  }
  const lower = cat.toLowerCase();
  const filtered = ALL_DATA.filter(item => {
    // if categories declared, match there
    if(Array.isArray(item.categories) && item.categories.some(c => c.toLowerCase() === lower)) return true;
    // otherwise check description or handle includes
    if((item.description||"").toLowerCase().includes(lower)) return true;
    if((item.handle||"").toLowerCase().includes(lower)) return true;
    return false;
  });
  renderAll(filtered);
}

/* Theme application: updates CSS vars + tints + hero image + card accents + images (if no explicit image) */
function applyTheme(index){
  const pal = PALETTES[index] || PALETTES[0];
  const bgDark = pal[0], bgLight = pal[1], accent = pal[2];
  const accent2 = lightenHex(accent, 18);
  const cardAccent = hexToRgba(accent, 0.12);

  // root CSS updates
  document.documentElement.style.setProperty('--bg1', bgDark);
  document.documentElement.style.setProperty('--bg2', bgLight);
  document.documentElement.style.setProperty('--accent', accent);
  document.documentElement.style.setProperty('--accent2', accent2);
  document.documentElement.style.setProperty('--card-accent', cardAccent);
  document.documentElement.style.setProperty('--text', '#f5f7fb');

  // hero background - use keyword map for business style
  const kw = THEME_KEYWORDS[index] || 'business';
  const heroUrl = `https://source.unsplash.com/1600x900/?${encodeURIComponent(kw)}`;
  hero.style.backgroundImage = `url("${heroUrl}")`;

  // update cards tints & footers & optionally images (only replace if item.image not set)
  const cards = document.querySelectorAll('.card');
  cards.forEach((c, i) => {
    c.style.borderColor = hexToRgba(accent, 0.06);
    c.style.boxShadow = `0 12px 40px ${hexToRgba(accent, 0.12)}`;

    const tint = c.querySelector('.img-tint');
    if(tint){
      const angle = 120 + (i % 6) * 10;
      const g = `linear-gradient(${angle}deg, ${hexToRgba(accent,0.48)} 0%, ${hexToRgba(accent2,0.28)} 100%)`;
      tint.style.background = g;
      tint.style.opacity = 0.88;
    }

    const footer = c.querySelector('.card-footer');
    if(footer){
      footer.style.background = hexToRgba(accent, 0.12);
      footer.style.color = bgLight;
    }

    // if original item had no explicit image, swap to theme-specific unsplash query to "change images"
    const item = ALL_DATA[c.dataset.idx];
    const img = c.querySelector('img');
    if(item && (!item.image || item.image.trim() === "")){
      const q = THEME_KEYWORDS[index] || 'business';
      img.src = `https://source.unsplash.com/800x600/?${encodeURIComponent(q)}&sig=${i}`;
      img.style.filter = 'contrast(0.98) saturate(0.95)';
    } else {
      // if item.image provided, keep it but slightly adjust filter to harmonize
      img.style.filter = 'contrast(0.98) saturate(0.95)';
    }
  });

  // header glow update
  const headerTitle = document.querySelector('header h1');
  if(headerTitle){
    headerTitle.style.color = accent;
    headerTitle.style.textShadow = `0 8px 34px ${hexToRgba(accent,0.14)}`;
  }
}

/* ---------- small helpers ---------- */
function hexToRgb(hex){
  hex = hex.replace('#','');
  if(hex.length===3) hex = hex.split('').map(h=>h+h).join('');
  const bigint = parseInt(hex,16);
  return [(bigint>>16)&255, (bigint>>8)&255, bigint&255];
}
function hexToRgba(hex, a=1){
  const [r,g,b] = hexToRgb(hex);
  return `rgba(${r}, ${g}, ${b}, ${a})`;
}
function lightenHex(hex, pct){
  const [r,g,b] = hexToRgb(hex);
  const amt = Math.round(255 * (pct/100));
  const nr = Math.min(255, r + amt), ng = Math.min(255, g + amt), nb = Math.min(255, b + amt);
  return '#' + ((1<<24) + (nr<<16) + (ng<<8) + nb).toString(16).slice(1);
}
function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;'); }

/* ---------- initial render ---------- */
document.addEventListener('DOMContentLoaded', ()=> {
  renderAll(ALL_DATA); // load all at once as requested
  // ensure categories "Toutes" works: highlight? (optional)
});
</script>
</body>
</html>
